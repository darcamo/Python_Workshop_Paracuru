
<section>
    <h1>IPython</h1>
</section>

<section>
    <h2>O que é o IPython</h2>
    <ul>
        <li><a href="http://ipython.org/ipython-doc/stable/interactive/tutorial.html">IPython</a> é poderoso shell interativo para a linguagem Python, <span class="angry alert">muito</span> superior ao shell padrão</li>
        <li>As entradas e saídas são numeradas e você pode recuperar seus valores</li>
        <li>É possível acessar os valores das entradas com variáveis <code>_i1</code>, <code>_i2</code>, etc</li>
        <li>Os valores das saídas podem ser acessadas por <code>_1</code>, <code>_2</code>, onde <code>_</code>, <code>__</code> e <code>___</code> acessam a última, penúltima e antepenúltima saída</li>
    </ul>
    <code-terminal><in>a = 10</in>
<in>a + 4  # Esqueci de salvar em uma variável</in>
<output>14</output>
<in>b = 16</in>
<in>c = b + _  # '_' possui o valor 14 referente a última saída</in>
<in>c * 2  # c possui valor de 16 + 14</in>
<output>60</output></code-terminal>
</section>

<section>
    <h2>Recursos úteis do IPython</h2>

    <ul>
        <li>Um dos recursos mais úteis do IPython é <a href="http://ipython.readthedocs.io/en/stable/interactive/tutorial.html#tab-completion">completar um comando</a></li>
        <li>Após digitar parte do comando aperte <kbd>TAB</kbd> para completar</li>
        <li>Caso haja mais de uma opção uma lista de opções será mostrada</li>
        <img alt="TAB completion do IPython" src="images/ipython_tab_complete.png"/ class="displayed">
        <li>Também acessar o shell do sistema usando <code>!comando</code> (muito útil para alternar entre pastas, remover arquivos, etc)</li>
    </ul>

    <div class="columns">
        <code-terminal style="flex-basis: 65%;"><in>!pwd  # Mostra em que pasta estou agora</in>
            <output>/home/darlan/</output>
            <in>arquivos = !ls  # Lista arquivos na pasta atual</in></code-terminal>
        <div class="angry box fragment" style="flex-basis: 35%; font-size:0.9em;">A variável <code>arquivos</code> é uma lista de nomes de arquivos que podemos processar em Python!</div>
    </div>

</section>

<section>
    <h2>Obtendo ajuda com "?"</h2>

    <ul>
        <li><a href="http://ipython.readthedocs.io/en/stable/interactive/tutorial.html#exploring-your-objects">É possível explorar objetos utilizando"?"</a>

            <ul>
                <li>Digitar <code>algum_obj?</code> mostra diversas informações sobre qualquer objeto, incluindo docstring, definições de funções, informações do construtor, etc</li>
                <li>Digitar <code>algum_obj??</code> mostrará o código fonte se possível</li>
                <code-terminal><in>abs?</in>
<span class="angry alert">Signature: </span> abs(x, /)
<span class="angry alert">Docstring</span>: Return the absolute value of the argument.
<span class="angry alert" style="white-space: pre;">Type:     </span>      builtin_function_or_method</code-terminal>
            </ul>
        </li>
    </ul>

    <div class="moody labeled box fragment">
        <div class="label">Nota</div>
        Através da introspecção com <code>?</code> e apertando <kbd>TAB</kbd> para completar comandos é possível <em>explorar</em> bem funções, classes, etc.
    </div>
</section>

<section>
    <h2>IPython</h2>

    <ul style="height:600px !important;">
        <li>Outro recurso extremamente útil do IPython são os <a href="http://ipython.readthedocs.io/en/stable/interactive/tutorial.html#magic-functions">comandos mágicos</a></li>
        <li>Alguns dos comandos mágicos mais úteis são:
            <ul>
                <li class="fragment highlight-current-happy" data-fragment-index="1"><tt>%whos</tt>: Lista variáveis e funções atuais <i class="fa fa-arrow-right"></i> exceto variáveis criadas pelo IPython
                    <code-terminal class="show-only-if-current-fragment" dontshowcursor style="font-size:90%;"><in>a = [1,2,3]</in>
                        <in>b = "Olá Mundo"</in>
                        <in>%whos
Variable   Type    Data/Info
----------------------------
a          list    n=3
b          str     Hello
                        </in>
                        <in>%whos list
Variable   Type    Data/Info
----------------------------
a          list    n=3</in></code-terminal>
                </li>
                <li class="fragment highlight-current-happy" data-fragment-index="2"><tt>%edit testando.py</tt>: Abre 'testando.py' e executa o código após sair
                    <code-terminal class="show-only-if-current-fragment" dontshowcursor style="font-size: 90%;"><in>%edit testando.py
Editing... Waiting for Emacs...</in></code-terminal></li>
                <li class="fragment highlight-current-happy" data-fragment-index="3"><tt>%run testando.py</tt>: Executa testando.py como um script <span class="fragment highlight-current-happy" data-fragment-index="4"><i class="fa fa-arrow-right"></i> Também podemos passar opções como "-p" ou "-t"</span>
                    <code-terminal class="show-only-if-current-fragment" dontshowcursor style="font-size: 90%;"><in>%cat testando.py  # Vamos ver o conteúdo que salvei no arquivo
a = 10
b = 20
print(a * b)</in>
                        <in>%run testando.py  # TAB completa o nome do arquivo
200
                        </in>
                        <in>%whos
Variable   Type    Data/Info
----------------------------
a          int     10
b          int     20</in></code-terminal>
                    <code-terminal class="fragment show-only-if-current-fragment" data-fragment-index="4" dontshowcursor style="font-size: 85%;"><in>%run -p testando.py</in>
Ordered by: internal time

ncalls  tottime  percall  cumtime  percall filename:lineno(function)
2    0.000    0.000    0.000    0.000 {built-in method io.open}
1    0.000    0.000    0.000    0.000 interactiveshell.py:2431(safe_execfile)
1    0.000    0.000    0.000    0.000 {built-in method builtins.compile}
2/1  0.000    0.000    0.000    0.000 {built-in method builtins.exec}
1    0.000    0.000    0.000    0.000 py3compat.py:182(execfile)
1    0.000    0.000    0.000    0.000 {built-in method builtins.print}
1    0.000    0.000    0.000    0.000 posixpath.py:318(normpath)
1    0.000    0.000    0.000    0.000 posixpath.py:145(dirname)
1    0.000    0.000    0.000    0.000 _bootlocale.py:23(getpreferredenco
... ... ...</code-terminal></li>
                <li class="fragment highlight-current-happy" data-fragment-index="5"><tt>%paste</tt>: Cola e executa um bloco de código da área de transferência</li>
                <li class="fragment highlight-current-happy" data-fragment-index="6"><tt>%timeit</tt>: Executa uma expressão e mostra tempo decorrido
                    <code-terminal class="show-only-if-current-fragment" dontshowcursor><in>%timeit 4 * 5
100000000 loops, best of 3: 12.3 ns per loop</in></code-terminal></li>
                <li class="fragment highlight-current-happy" data-fragment-index="7"><tt>%autocall</tt>: Dispensa os parêntesis em uma chamada de função
                    <code-terminal class="show-only-if-current-fragment" dontshowcursor><in>sum [1,2,3]
-------> sum([1,2,3])</in>
                            <output>6</output></code-terminal></li>

                <li class="fragment highlight-current-happy" data-fragment-index="8"><tt>%quickref</tt>: Cartão de referência do IPython <i class="fa fa-arrow-right"></i> Veja também <tt>%comando?</tt></li>
            </ul>
        </li>
    </ul>

</section>

<!-- <section>
     <h2>IPython</h2>

     <ul>
     <li>Outro recurso extremamente útil do IPython são os <a href="http://ipython.readthedocs.io/en/stable/interactive/tutorial.html#magic-functions">comandos mágicos</a></li>
     <li>Alguns dos comandos mágicos mais úteis são:
     <ul>
     </ul>
     </li>
     </ul>
     </section> -->
